(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/johnfarrell/Documents/ITP/Residency/NationalParks/app/natlparks_v2/public/js/cardBuild.jsx":[function(require,module,exports){


var Buttons = React.createClass({displayName: "Buttons",
	getInitialState: function () {
		return {
			isSelected: false
		};
	},

	handleClick: function () {
		this.setState({
			isSelected: true
		});
	},

	render: function () {
	    var isSelected = this.state.isSelected;
		
		if (isSelected) {
			$.get('/info/'+this.props.name, function (data) {
				ReactDOM.render(React.createElement(Card, {url: data.url, parkname: data.name, date: data.established}), document.getElementById('infoContainer'));
				ReactDOM.render(React.createElement(Map, {parkLat: data.lat, parkLon: data.lon, parkZoom: 10}), document.getElementById('mapContainer'));			
			});
		}
		
		return (
		 React.createElement("div", null, 
			React.createElement("button", {type: "button", onClick: this.handleClick, className: "btn btn-default", name: this.props.id}, this.props.display)
		)
		)
	}
});



var Card = React.createClass({displayName: "Card",

	render: function () {
		$('#infoContainer').css('background-color','#C77F49');
/*		I shouldn't need this ^ but having issue
		var cardStyle = {
    		backgroundColor: '#C77F49'  
    	};
		style={cardStyle} */
		return (	
			React.createElement("div", {className: "card"}, 
				React.createElement("img", {className: "card-img-top", id: "card-header-image", src: this.props.url, alt: "card header image"}), 
					React.createElement("div", {className: "card-block"}, 
					React.createElement("h4", {className: "card-title", id: "cardTitle"}, "At a Glance"), 
					React.createElement("ul", {className: "list-group list-group-flush", style: this.props.style, id: "listContainer"}, 
						React.createElement("li", {className: "list-group-item"}, 
							React.createElement("span", {className: "cardAttrs"}, "Park Name: ", this.props.parkname)
						), 
						React.createElement("li", {className: "list-group-item"}, 
							React.createElement("span", {className: "cardAttrs"}, "Established: ", this.props.date)
						)
					)
				)
        	)			
    	)
  	}
});


var Map = React.createClass({displayName: "Map",
	
	getInitialState: function() {
		return {
			lat: this.props.parkLat,
			lon: this.props.parkLon,
			zoom: this.props.parkZoom
		};
	},

	componentWillReceiveProps: function(nextProps) {

		this.map.setView([nextProps.parkLat, nextProps.parkLon], nextProps.parkZoom);

	},

    createMap: function (element) {
    	var southWest = L.latLng(25.0855988971, -132.01171875);
	    var northEast = L.latLng(49.8096315636, -65.91796875);
        var bounds = L.latLngBounds(southWest, northEast);

        this.map = L.map(element, {
        	maxBounds: bounds,
        	minZoom: 4
        }).setView([this.state.lat, this.state.lon], this.state.zoom);
        L.tileLayer('https://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(this.map);
        this.map.scrollWheelZoom.disable();
        return this.map;
    },

    componentDidMount: function () {	
    	if (this.mapDiv !== null) {
    		this.createMap(this.mapDiv);
    	};
    	this.state.zoom=10;
    },

    render: function () {

    	var divStyle = {
    		height: 480,
    		width: "auto"
    	};
    	return (
    		React.createElement("div", {className: "map", style: divStyle, ref: (ref) => this.mapDiv = ref})
    	)
    }
});




//ReactDOM.render(<Map startLat={38.8945571} startLon={-97.3677515} startZoom={4} />, document.getElementById('mapContainer'));



ReactDOM.render(React.createElement(Buttons, {name: "smokyMountains", display: "Great Smoky Mountains"}),  document.getElementById('btn-one'));
ReactDOM.render(React.createElement(Buttons, {name: "grandCanyon", display: "Grand Canyon"}),  document.getElementById('btn-two'));
ReactDOM.render(React.createElement(Buttons, {name: "rockyMountain", display: "Rocky Mountain"}),  document.getElementById('btn-three'));
ReactDOM.render(React.createElement(Buttons, {name: "yosemite", display: "Yosemite"}),  document.getElementById('btn-four'));
ReactDOM.render(React.createElement(Buttons, {name: "yellowstone", display: "Yellowstone"}),  document.getElementById('btn-five'));
ReactDOM.render(React.createElement(Buttons, {name: "zion", display: "Zion"}),  document.getElementById('btn-six'));
ReactDOM.render(React.createElement(Buttons, {name: "olympic", display: "Olympic"}),  document.getElementById('btn-seven'));
ReactDOM.render(React.createElement(Buttons, {name: "grandTeton", display: "Grand Teton"}),  document.getElementById('btn-eight'));
ReactDOM.render(React.createElement(Buttons, {name: "acadia", display: "Acadia"}),  document.getElementById('btn-nine'));
ReactDOM.render(React.createElement(Buttons, {name: "glacier", display: "Glacier"}),  document.getElementById('btn-ten'));

},{}]},{},["/Users/johnfarrell/Documents/ITP/Residency/NationalParks/app/natlparks_v2/public/js/cardBuild.jsx"])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvam9obmZhcnJlbGwvRG9jdW1lbnRzL0lUUC9SZXNpZGVuY3kvTmF0aW9uYWxQYXJrcy9hcHAvbmF0bHBhcmtzX3YyL3B1YmxpYy9qcy9jYXJkQnVpbGQuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUEsSUFBSSw2QkFBNkIsdUJBQUE7Q0FDaEMsZUFBZSxFQUFFLFlBQVk7RUFDNUIsT0FBTztHQUNOLFVBQVUsRUFBRSxLQUFLO0dBQ2pCLENBQUM7QUFDSixFQUFFOztDQUVELFdBQVcsRUFBRSxZQUFZO0VBQ3hCLElBQUksQ0FBQyxRQUFRLENBQUM7R0FDYixVQUFVLEVBQUUsSUFBSTtHQUNoQixDQUFDLENBQUM7QUFDTCxFQUFFOztDQUVELE1BQU0sRUFBRSxZQUFZO0FBQ3JCLEtBQUssSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7O0VBRTFDLElBQUksVUFBVSxFQUFFO0dBQ2YsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxJQUFJLEVBQUU7SUFDL0MsUUFBUSxDQUFDLE1BQU0sQ0FBQyxvQkFBQyxJQUFJLEVBQUEsQ0FBQSxDQUFDLEdBQUEsRUFBRyxDQUFFLElBQUksQ0FBQyxHQUFHLEVBQUMsQ0FBQyxRQUFBLEVBQVEsQ0FBRSxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsSUFBQSxFQUFJLENBQUUsSUFBSSxDQUFDLFdBQVksQ0FBQSxDQUFHLENBQUEsRUFBRSxRQUFRLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDaEksUUFBUSxDQUFDLE1BQU0sQ0FBQyxvQkFBQyxHQUFHLEVBQUEsQ0FBQSxDQUFDLE9BQUEsRUFBTyxDQUFFLElBQUksQ0FBQyxHQUFHLEVBQUMs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QUFDLElBQUEsRUFBSSxDQUFDLFFBQUEsRUFBUSxDQUFDLE9BQUEsRUFBTyxDQUFDLFFBQVEsQ0FBRSxDQUFBLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0FBQ2pHLFFBQVEsQ0FBQyxNQUFNLENBQUMsb0JBQUMsT0FBTyxFQUFBLENBQUEsQ0FBQyxJQUFBLEVBQUksQ0FBQyxTQUFBLEVBQVMsQ0FBQyxPQUFBLEVBQU8sQ0FBQyxTQUFTLENBQUUsQ0FBQSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcblxudmFyIEJ1dHRvbnMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc1NlbGVjdGVkOiBmYWxzZVxuXHRcdH07XG5cdH0sXG5cblx0aGFuZGxlQ2xpY2s6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGlzU2VsZWN0ZWQ6IHRydWVcblx0XHR9KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBpc1NlbGVjdGVkID0gdGhpcy5zdGF0ZS5pc1NlbGVjdGVkO1xuXHRcdFxuXHRcdGlmIChpc1NlbGVjdGVkKSB7XG5cdFx0XHQkLmdldCgnL2luZm8vJyt0aGlzLnByb3BzLm5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFJlYWN0RE9NLnJlbmRlcig8Q2FyZCB1cmw9e2RhdGEudXJsfSBwYXJrbmFtZT17ZGF0YS5uYW1lfSBkYXRlPXtkYXRhLmVzdGFibGlzaGVkfSAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZm9Db250YWluZXInKSk7XG5cdFx0XHRcdFJlYWN0RE9NLnJlbmRlcig8TWFwIHBhcmtMYXQ9e2RhdGEubGF0fSBwYXJrTG9uPXtkYXRhLmxvbn0gcGFya1pvb209ezEwfSAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcENvbnRhaW5lcicpKTtcdFx0XHRcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gKFxuXHRcdCA8ZGl2PlxuXHRcdFx0PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9IGNsYXNzTmFtZT17XCJidG4gYnRuLWRlZmF1bHRcIn0gbmFtZT17dGhpcy5wcm9wcy5pZH0+e3RoaXMucHJvcHMuZGlzcGxheX08L2J1dHRvbj5cblx0XHQ8L2Rpdj5cblx0XHQpXG5cdH1cbn0pO1xuXG5cblxudmFyIENhcmQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cblx0cmVuZGVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0JCgnI2luZm9Db250YWluZXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCcjQzc3RjQ5Jyk7XG4vKlx0XHRJIHNob3VsZG4ndCBuZWVkIHRoaXMgXiBidXQgaGF2aW5nIGlzc3VlXG5cdFx0dmFyIGNhcmRTdHlsZSA9IHtcbiAgICBcdFx0YmFja2dyb3VuZENvbG9yOiAnI0M3N0Y0OScgIFxuICAgIFx0fTtcblx0XHRzdHlsZT17Y2FyZFN0eWxlfSAqL1xuXHRcdHJldHVybiAoXHRcblx0XHRcdDxkaXYgY2xhc3NOYW1lPXtcImNhcmRcIn0+XG5cdFx0XHRcdDxpbWcgY2xhc3NOYW1lPXtcImNhcmQtaW1nLXRvcFwifSBpZD1cImNhcmQtaGVhZGVyLWltYWdlXCIgc3JjPXt0aGlzLnByb3BzLnVybH0gYWx0PVwiY2FyZCBoZWFkZXIgaW1hZ2VcIiAvPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPXtcImNhcmQtYmxvY2tcIn0+XG5cdFx0XHRcdFx0PGg0IGNsYXNzTmFtZT17XCJjYXJkLXRpdGxlXCJ9IGlkPVwiY2FyZFRpdGxlXCI+QXQgYSBHbGFuY2U8L2g0PlxuXHRcdFx0XHRcdDx1bCBjbGFzc05hbWU9e1wibGlzdC1ncm91cCBsaXN0LWdyb3VwLWZsdXNoXCJ9IHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfSBpZD1cImxpc3RDb250YWluZXJcIj5cblx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9e1wibGlzdC1ncm91cC1pdGVtXCJ9PlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9e1wiY2FyZEF0dHJzXCJ9ID5QYXJrIE5hbWU6IHt0aGlzLnByb3BzLnBhcmtuYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPXtcImxpc3QtZ3JvdXAtaXRlbVwifT5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPXtcImNhcmRBdHRyc1wifSA+RXN0YWJsaXNoZWQ6IHt0aGlzLnByb3BzLmRhdGV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHQ8L3VsPlxuXHRcdFx0XHQ8L2Rpdj5cbiAgICAgICAgXHQ8L2Rpdj5cdFx0XHRcbiAgICBcdClcbiAgXHR9XG59KTtcblxuXG52YXIgTWFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIk1hcFwiLFxuXHRcblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGF0OiB0aGlzLnByb3BzLnBhcmtMYXQsXG5cdFx0XHRsb246IHRoaXMucHJvcHMucGFya0xvbixcblx0XHRcdHpvb206IHRoaXMucHJvcHMucGFya1pvb21cblx0XHR9O1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wcykge1xuXG5cdFx0dGhpcy5tYXAuc2V0VmlldyhbbmV4dFByb3BzLnBhcmtMYXQsIG5leHRQcm9wcy5wYXJrTG9uXSwgbmV4dFByb3BzLnBhcmtab29tKTtcblxuXHR9LFxuXG4gICAgY3JlYXRlTWFwOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIFx0dmFyIHNvdXRoV2VzdCA9IEwubGF0TG5nKDI1LjA4NTU5ODg5NzEsIC0xMzIuMDExNzE4NzUpO1xuXHQgICAgdmFyIG5vcnRoRWFzdCA9IEwubGF0TG5nKDQ5LjgwOTYzMTU2MzYsIC02NS45MTc5Njg3NSk7XG4gICAgICAgIHZhciBib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhzb3V0aFdlc3QsIG5vcnRoRWFzdCk7XG5cbiAgICAgICAgdGhpcy5tYXAgPSBMLm1hcChlbGVtZW50LCB7XG4gICAgICAgIFx0bWF4Qm91bmRzOiBib3VuZHMsXG4gICAgICAgIFx0bWluWm9vbTogNFxuICAgICAgICB9KS5zZXRWaWV3KFt0aGlzLnN0YXRlLmxhdCwgdGhpcy5zdGF0ZS5sb25dLCB0aGlzLnN0YXRlLnpvb20pO1xuICAgICAgICBMLnRpbGVMYXllcignaHR0cHM6Ly97c30udGlsZS50aHVuZGVyZm9yZXN0LmNvbS9vdXRkb29ycy97en0ve3h9L3t5fS5wbmcnLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cDovL29zbS5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJ1xuICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7XG4gICAgICAgIHRoaXMubWFwLnNjcm9sbFdoZWVsWm9vbS5kaXNhYmxlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcDtcbiAgICB9LFxuXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uICgpIHtcdFxuICAgIFx0aWYgKHRoaXMubWFwRGl2ICE9PSBudWxsKSB7XG4gICAgXHRcdHRoaXMuY3JlYXRlTWFwKHRoaXMubWFwRGl2KTtcbiAgICBcdH07XG4gICAgXHR0aGlzLnN0YXRlLnpvb209MTA7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuXG4gICAgXHR2YXIgZGl2U3R5bGUgPSB7XG4gICAgXHRcdGhlaWdodDogNDgwLFxuICAgIFx0XHR3aWR0aDogXCJhdXRvXCJcbiAgICBcdH07XG4gICAgXHRyZXR1cm4gKFxuICAgIFx0XHQ8ZGl2IGNsYXNzTmFtZT17XCJtYXBcIn0gc3R5bGU9e2RpdlN0eWxlfSByZWY9eyhyZWYpID0+IHRoaXMubWFwRGl2ID0gcmVmfT48L2Rpdj5cbiAgICBcdClcbiAgICB9XG59KTtcblxuXG5cblxuLy9SZWFjdERPTS5yZW5kZXIoPE1hcCBzdGFydExhdD17MzguODk0NTU3MX0gc3RhcnRMb249ey05Ny4zNjc3NTE1fSBzdGFydFpvb209ezR9IC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwQ29udGFpbmVyJykpO1xuXG5cblxuUmVhY3RET00ucmVuZGVyKDxCdXR0b25zIG5hbWU9XCJzbW9reU1vdW50YWluc1wiIGRpc3BsYXk9XCJHcmVhdCBTbW9reSBNb3VudGFpbnNcIi8+LCAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1vbmUnKSk7XG5SZWFjdERPTS5yZW5kZXIoPEJ1dHRvbnMgbmFtZT1cImdyYW5kQ2FueW9uXCIgZGlzcGxheT1cIkdyYW5kIENhbnlvblwiLz4sICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLXR3bycpKTtcblJlYWN0RE9NLnJlbmRlcig8QnV0dG9ucyBuYW1lPVwicm9ja3lNb3VudGFpblwiIGRpc3BsYXk9XCJSb2NreSBNb3VudGFpblwiLz4sICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLXRocmVlJykpO1xuUmVhY3RET00ucmVuZGVyKDxCdXR0b25zIG5hbWU9XCJ5b3NlbWl0ZVwiIGRpc3BsYXk9XCJZb3NlbWl0ZVwiLz4sICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWZvdXInKSk7XG5SZWFjdERPTS5yZW5kZXIoPEJ1dHRvbnMgbmFtZT1cInllbGxvd3N0b25lXCIgZGlzcGxheT1cIlllbGxvd3N0b25lXCIvPiwgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tZml2ZScpKTtcblJlYWN0RE9NLnJlbmRlcig8QnV0dG9ucyBuYW1lPVwiemlvblwiIGRpc3BsYXk9XCJaaW9uXCIvPiwgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tc2l4JykpO1xuUmVhY3RET00ucmVuZGVyKDxCdXR0b25zIG5hbWU9XCJvbHltcGljXCIgZGlzcGxheT1cIk9seW1waWNcIi8+LCAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1zZXZlbicpKTtcblJlYWN0RE9NLnJlbmRlcig8QnV0dG9ucyBuYW1lPVwiZ3JhbmRUZXRvblwiIGRpc3BsYXk9XCJHcmFuZCBUZXRvblwiLz4sICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWVpZ2h0JykpO1xuUmVhY3RET00ucmVuZGVyKDxCdXR0b25zIG5hbWU9XCJhY2FkaWFcIiBkaXNwbGF5PVwiQWNhZGlhXCIvPiwgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbmluZScpKTtcblJlYWN0RE9NLnJlbmRlcig8QnV0dG9ucyBuYW1lPVwiZ2xhY2llclwiIGRpc3BsYXk9XCJHbGFjaWVyXCIvPiwgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tdGVuJykpO1xuIl19
